<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <!--360 浏览器支持-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=1" name="viewport" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta name="format-detection" content="telephone=yes" />
    <meta content="false" name="twcClient" id="twcClient" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- MANIFEST -->
    <link rel="manifest" href="<%= BASE_URL %>manifest.json">
    <!-- ADD TO HOMESCREEN SAFARI ON IOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="YeahMobi Manage System">
    <link rel="apple-touch-icon" href="<%= BASE_URL %>img/icons/icon-196.png">
    <!-- ADD TO HOMESCREEN WINDOWS -->
    <meta name="msapplicatoin-TileImage" content="<%= BASE_URL %>img/icons/icon-196.png">
    <meta name="msapplicatoin-TileColor" content="#3d5165">

    <noscript>Your browser does not support JavaScript!</noscript>
    <title>YeahMobi's tracking and optimization tool</title>
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>css/bootstrap.min.css" rel="preload" as="style">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>font-awesome/ym-font/iconfont.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>js/chosen/chosen.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>css/datetimepicker.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>js/select2/select2.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>js/bootstrap-switch/css/bootstrapSwitch.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>js/bootstrap-editable/css/bootstrap-editable.css">
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>js/multi-select/css/multi-select.css">
   <!--  <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>css/newUI.css" rel="preload" as="style"> -->
   <!--  <link rel="stylesheet" type="text/css" href="/asset/css/highcharts.css"> -->
    <link rel="stylesheet" type="text/css" href="<%= BASE_URL %>css/bootstrap-select.min.css">
</head>

<body class="">
    <script type="text/javascript" src="<%= BASE_URL %>js/jquery.min.js" rel="preload" as="script"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/jquery.query.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/moment.min.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap.min.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/select2/select2.min.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/chosen/chosen.jquery.min.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-editable/js/bootstrap-editable.min.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-editable/input-ext/caps.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-editable/input-ext/caps_lite.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-editable/input-ext/checkbox.js"></script>
    <!-- <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-switch/js/bootstrapSwitch.js"></script> -->
    <!--<script type="text/javascript" src="/asset/js/bootstrap-editable/input-ext/budget.js"></script> -->
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-datepicker.min.js"></script>
    <!-- <script type="text/javascript" src="/asset/js/lodash.core.min.js"></script> -->
    <!-- <script type="text/javascript" src="/asset/js/highcharts.js"></script> -->
    <script type="text/javascript" src="<%= BASE_URL %>js/humanize.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/multi-select/js/jquery.multi-select.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/jquery.quicksearch.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/md5.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/promise.js"></script>
    <!-- <script type="text/javascript" src="/asset/js/accessSearch.js"></script> -->
    <script type="text/javascript" src="<%= BASE_URL %>js/ckeditor/ckeditor.js"></script>
    <script type="text/javascript" src="<%= BASE_URL %>js/bootstrap-select.min.js"></script>
    <!-- <script type="text/javascript" src="/asset/js/bootstrap-editable/input-ext/name.js"></script>
    <script type="text/javascript" src="/asset/js/jquery.slimscroll.min.js"></script> -->

    <div id="app"></div>

    <script type="text/javascript">
    window.BUILD_TIME = '<%= htmlWebpackPlugin.options.buildtime %>'

    /*if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register("/sw.js?a=1").then(function(registration) {
            // Registration Success
            console.log('[serviceWorker]: registration successful with scope: ', registration.scope);
        }).catch(function(err) {
            // Registration failed :(
            console.log('[serviceWorker] registration failed', err);
        });
    }*/

    /*function fixUrlBug() {
        if (location.href.indexOf(encodeURIComponent("?nocache=1")) !== -1) {
            var url = location.href.replace(encodeURIComponent("?nocache=1"), "")
            location.href = url
        }
    }*/

    function sendErrorLog() {
        try {
            emailjs.init("user_5p02zsbLYpvUvbiYZExLw");
            emailjs.send("gmail_vincent", "app_error_alertemail", { "app_name": "ym manage", "error_detail": localStorage.getItem("pro_error") }).then(function(response) {
                localStorage.removeItem("pro_error")
            }, function(err) {
                localStorage.removeItem("pro_error")
            });
        }
        catch (e) {

        }
    }
    window.onerror = function(message, source, lineno, colno, error) {

        var error_msg = localStorage.getItem("pro_error") || ""
        try {
            error_msg += (error_msg ? "" : ",") + " date:" + (new Date).toLocaleString() + ",\n url: " + location.href +  ",\n message: " + message + ",\n source: " + source + ",\n lineno: " + lineno + ",\n colno:" + colno + ",\n error: " + error;
        } catch (e) {
            error_msg += (error_msg ? "" : ",") + " date:" + (new Date).toLocaleString() + ", message: " + message + ",\n source: " + source + ",\n lineno: " + lineno + ",\n colno:" + colno;
        }

        localStorage.setItem("pro_error", error_msg);

        if (message.match("Unexpected token <") && !location.href.match("nocache=")) {
            sendErrorLog()
            if (location.href.indexOf("?") === -1) {
                location.href = location.href + "?nocache=" + Date.now()
            } else {
                location.href = location.href + "&nocache=" + Date.now()
            }
        }
    }

    </script>

    <script type="text/javascript" src="<%= BASE_URL %>js/formValidation.min.js"></script>
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js" async></script>
</body>

</html>